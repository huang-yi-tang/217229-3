<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>SDGs-æ¸›å°‘åœ‹å…§åŠåœ‹å®¶é–“çš„ä¸å¹³</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-image: url('images/village-background.jpg');
      background-size: cover;
      background-position: center;
      height: 100vh;
      position: relative;
      overflow: hidden;
    }

    header {
      position: absolute;
      top: 10px;
      left: 20px;
      font-size: 24px;
      font-weight: bold;
      background-color: rgba(255, 255, 255, 0.7);
      padding: 10px;
      border-radius: 8px;
      z-index: 100;
    }

    #score-box {
      position: absolute;
      top: 10px;
      right: 20px;
      font-size: 20px;
      background-color: rgba(255, 255, 255, 0.7);
      padding: 10px;
      border-radius: 8px;
      z-index: 100;
    }

    .balloon {
      position: absolute;
      width: 100px;
      cursor: pointer;
      display: none;
    }

    .question-box, .intro-box, #result-box {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: white;
      padding: 20px;
      border: 2px solid #333;
      border-radius: 10px;
      width: 320px;
      z-index: 1000;
    }

    .intro-box button, .question-box button, #result-box button {
      margin-top: 15px;
      width: 100%;
    }

    #result-box, #question-box {
      display: none;
    }
  </style>
</head>
<body>
  <header>SDGs-æ¸›å°‘åœ‹å…§åŠåœ‹å®¶é–“çš„ä¸å¹³</header>
  <div id="score-box">ç­”å°ï¼š<span id="score">0</span>/10</div>

  <!-- èƒŒæ™¯éŸ³æ¨‚ -->
  <audio id="bgm" loop>
    <source src="images/background.mp3" type="audio/mp3">
    æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´éŸ³è¨Šæ’­æ”¾ã€‚
  </audio>

  <!-- éŠæˆ²èªªæ˜ -->
  <div class="intro-box" id="intro-box">
    <h3>ğŸˆ SDGs æ¸›å°‘ä¸å¹³ç­‰éŠæˆ²è¦å‰‡ï¼š</h3>
    <ul>
      <li>ç•«é¢ä¸Šæœƒå‡ºç¾ 8 é¡†ç†±æ°£çƒ</li>
      <li>é»æ“Šç†±æ°£çƒæœƒå‡ºç¾ä¸€å€‹èˆ‡æ¸›å°‘ä¸å¹³ç­‰ç›¸é—œçš„é¸æ“‡é¡Œ</li>
      <li>ç­”å° 8 é¡Œä»¥ä¸Šå³å¯é€²å…¥ä¸‹ä¸€é—œ</li>
      <li>æœªé”æ¨™éœ€é‡æ–°æŒ‘æˆ°</li>
    </ul>
    <button onclick="startGame()">é–‹å§‹éŠæˆ²</button>
  </div>

  <!-- é¡Œç›®å½ˆå‡ºæ¡† -->
  <div id="question-box" class="question-box">
    <h3 id="question-text"></h3>
    <button onclick="checkAnswer(true)">â­• æ­£ç¢º</button>
    <button onclick="checkAnswer(false)">âŒ éŒ¯èª¤</button>
  </div>

  <!-- çµæœæ¡† -->
  <div id="result-box">
    <div id="result-message"></div>
    <button id="restart-btn" onclick="location.href='level2.html'" style="display:none;">é‡æ–°æŒ‘æˆ°</button>
    <button id="next-btn" onclick="location.href='level3.html'" style="display:none;">å‰å¾€ä¸‹ä¸€é—œ</button>
  </div>

  <script>
    const questions = [
      "SDGsç›®æ¨™10æ˜¯é—œæ–¼æ¸›å°‘ä¸å¹³ç­‰å—ï¼Ÿ|true",
      "å…¨çƒä¸å¹³ç­‰åªèˆ‡è²§çª®åœ‹å®¶æœ‰é—œå—ï¼Ÿ|false",
      "ç§»æ°‘å’Œé›£æ°‘ä¹Ÿéœ€è¦ç´å…¥æ¸›å°‘ä¸å¹³ç­‰çš„æ”¿ç­–ä¸­å—ï¼Ÿ|true",
      "åªè¦æœ‰ç¶“æ¿Ÿæˆé•·ï¼Œå°±èƒ½è‡ªå‹•æ¸›å°‘ä¸å¹³ç­‰å—ï¼Ÿ|false",
      "æ€§åˆ¥å¹³ç­‰å°æ¸›å°‘åœ‹å…§ä¸å¹³ç­‰æœ‰å¹«åŠ©å—ï¼Ÿ|true",
      "å¼±å‹¢ç¾¤é«”åƒèˆ‡æ”¿ç­–åˆ¶å®šæ˜¯å¦é‡è¦ï¼Ÿ|true",
      "æ”¶å…¥åˆ†é…ä¸å‡æ˜¯é€ æˆç¤¾æœƒä¸å¹³ç­‰çš„åŸå› ä¹‹ä¸€å—ï¼Ÿ|true",
      "æ¸›å°‘ä¸å¹³ç­‰ä¸éœ€è¦åœ‹éš›åˆä½œï¼Ÿ|false",
      "æ•™è‚²å’Œé†«ç™‚è³‡æºå‡ç­‰æœ‰åŠ©æ–¼æ¸›å°‘ä¸å¹³ç­‰å—ï¼Ÿ|true",
      "éƒ½å¸‚åœ°å€èˆ‡é„‰æ‘åœ°å€çš„è³‡æºåˆ†é…é€šå¸¸æ˜¯ä¸€æ¨£çš„å—ï¼Ÿ|false"
    ];

    let answered = 0;
    let score = 0;
    let used = new Set();
    let currentAnswer = false;

    const bgm = document.getElementById("bgm");

    function startGame() {
      document.getElementById("intro-box").style.display = "none";
      bgm.play().catch(() => {}); // é–‹å§‹æ’­æ”¾éŸ³æ¨‚

      const usedPositions = [];

      for (let i = 0; i < 8; i++) {
        const balloon = document.createElement("img");
        balloon.src = "images/balloon.png";
        balloon.className = "balloon";

        let top, left;
        do {
          top = Math.floor(Math.random() * 400) + 80;
          left = Math.floor(Math.random() * (window.innerWidth - 120));
        } while (usedPositions.some(p => Math.abs(p.top - top) < 100 && Math.abs(p.left - left) < 100));

        usedPositions.push({ top, left });
        balloon.style.top = `${top}px`;
        balloon.style.left = `${left}px`;

        balloon.onclick = () => showQuestion(i);
        document.body.appendChild(balloon);
        balloon.style.display = "block";
      }
    }

    function showQuestion(balloonId) {
      if (used.has(balloonId)) return;
      used.add(balloonId);

      const [q, a] = questions[answered].split("|");
      currentAnswer = (a === "true");
      document.getElementById("question-text").textContent = `é¡Œç›® ${answered + 1}: ${q}`;
      document.getElementById("question-box").style.display = "block";
    }

    function checkAnswer(userAnswer) {
      if (userAnswer === currentAnswer) {
        score++;
        document.getElementById("score").textContent = score;
      }
      document.getElementById("question-box").style.display = "none";
      answered++;

      if (answered >= 8) {
        showResult();
      }
    }

    function showResult() {
      const box = document.getElementById("result-box");
      const msg = document.getElementById("result-message");
      const restartBtn = document.getElementById("restart-btn");
      const nextBtn = document.getElementById("next-btn");

      box.style.display = "block";

      if (score >= 8) {
        msg.textContent = `ğŸ‰ æ­å–œä½ ç­”å°äº† ${score} é¡Œï¼Œå¯ä»¥é€²å…¥ä¸‹ä¸€é—œï¼`;
        nextBtn.style.display = "inline-block";
      } else {
        msg.textContent = `ğŸ˜¢ ä½ åªç­”å°äº† ${score} é¡Œï¼Œè«‹é‡æ–°æŒ‘æˆ°ã€‚`;
        restartBtn.style.display = "inline-block";
      }
    }
  </script>
</body>
</html>
